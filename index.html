<!DOCTYPE html>
<html>

<head>
  <title>My first Three.js app</title>
  <style>
    canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <script src="./js/three.js"></script>
  <script>

    const NEUNZIG_GRAD = Math.PI / 2

    var scene = new THREE.Scene()

    var camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      1,
      10000,
    )



    // LIGHTS   //das ist ein kommentar
    ambientLight = new THREE.AmbientLight(0xffffff, 0.5)
    scene.add(ambientLight)
    light = new THREE.PointLight(0xffffff, 0.8, 100)
    light.position.set(0, 10, 20)
    light.castShadow = true
    // Will not light anything closer than 0.1 units or further than 25 units
    light.shadow.camera.near = 0.1
    light.shadow.camera.far = 25
    scene.add(light)
    var renderer = new THREE.WebGLRenderer()
    renderer.setSize(window.innerWidth, window.innerHeight)
    document.body.appendChild(renderer.domElement)

    function addBasicCube() {
      var geometry = new THREE.BoxGeometry(7, 7, 7, 0.1, 0.1, 0.1)
      var material = new THREE.MeshPhongMaterial({
        color: 0xff0000,
      })
      var cube = new THREE.Mesh(geometry, material)
      cube.receiveShadow = true
      cube.castShadow = true
      scene.add(cube)
    }

    function addArmWithPivot(pos, scale_x, scale_y, scale_z) {
      //add arm
      var geometry = new THREE.BoxGeometry(
        scale_x,
        scale_y,
        scale_z,
      )
      geometry.translate(scale_x / 2, 0, 0)
      var material = new THREE.MeshPhongMaterial({ color: 0xff0000 })
      var cube = new THREE.Mesh(geometry, material)
      cube.receiveShadow = true
      cube.castShadow = true
      cube.position.x = pos.x
      cube.position.y = pos.y
      cube.position.z = pos.z
      cube.name = 'arm2'

      scene.add(cube)

      //
      // ZWEITER CUBE 
      //Wichtiger kommentar von Nhi Mai:
      //mommy?
      //

      var geometry_blob = new THREE.BoxGeometry(
        scale_x,
        scale_y,
        scale_z,
      )
      geometry.translate(scale_x / 2, 0, 0)
      var material_blob = new THREE.MeshPhongMaterial({ color: 0xff0000 })
      var cube_blob = new THREE.Mesh(geometry, material)
      cube_blob.receiveShadow = true
      cube_blob.castShadow = true
      cube_blob.position.x = pos.x
      cube_blob.position.y = pos.y
      cube_blob.position.z = pos.z
      cube_blob.name = 'arm1'
      cube_blob.rotation.z

      scene.add(cube_blob)

      cube_blob.rotation.z = NEUNZIG_GRAD;



    }
    addArmWithPivot(1, 1, 1, 35, 5, 5)


    camera.position.x = 20

    function getObjectByName(name) {
      var arm2 = scene.getObjectByName(name);
    }


    function addArm(pos, lenght) {
      var geometry = new THREE.BoxGeometry(
        lenght,
        5,
        5,
        pos.x,
        pos.y,
        pos.z
      )
      var material = new THREE.MeshPhongMaterial({ color: 0xff0000 })
      var cube = new THREE.Mesh(geometry, material)
      cube.receiveShadow = true
      cube.castShadow = true
      cube.position.x = pos.x
      cube.position.y = pos.y
      cube.position.z = pos.z

      scene.add(cube)
    }

    function rotatePivot(degree, axe, object) {
      var pivot_debug = new THREE.Object3D()

    }
    //(pos, scale_x, scale_y, scale_z)

    function camera_mover_debug() {
      //camera.position.x = camera.position.x + 20
    }

    camera.position.z = 40
    camera.position.y = 15
    //camera.rotation.x = -20;

    function render() {
      requestAnimationFrame(render)
      // Enable Shadows in the Renderer
      renderer.shadowMap.enabled = true
      renderer.shadowMap.type = THREE.BasicShadowMap
      renderer.render(scene, camera)
    }

    render()
    camera_mover_debug()
  </script>
</body>

</html>